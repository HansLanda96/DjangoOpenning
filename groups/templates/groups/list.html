{% extends 'base.html' %}

{% load crispy_forms_filters %}

{% block title %} List of groups {%endblock %}

{% block content %}

<div class="row mb-3">
	<h1>List of Groups</h1>
	<div class="row mt-3 pt-4">
		<table class="table table-striped table-hover">
			<thead>
				<tr>
					<th>N</th>
					<th>Group name</th>
					<th>Headman</th>
					<th>Course</th>
					<th>Start date</th>
					<th>End date</th>
					<th><i class="bi bi-pencil-fill"></i></th>
					<th><i class="bi bi-trash3-fill"></i></th>
				</tr>
			</thead>
			<tbody>
				{% for group in object_list %}
				<tr>
					<td>{{ forloop.counter }}</td>
					<td>{{ group.name }}</td>
					<td>
						{% if group.headman %} {{ group.headman.first_name }}
						{{group.headman.last_name}} {% endif %}
					</td>
					<td>{% if group.course %} {{ group.course.course }} {% endif %}</td>
					<td>{{ group.start_date }}</td>
					<td>{% if group.end_date %}{{ group.end_date }}{% endif %}</td>
					<td>
						<a
							class="btn btn-outline-primary btn-sm"
							href="{% url 'groups:update' group.pk %}"
							>Edit</a
						>
					</td>
					<td>
						<a
							class="btn btn-outline-danger btn-sm"
							href="{% url 'groups:delete' group.pk %}"
							>Delete</a
						>
					</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
	{% endblock %}
</div>
